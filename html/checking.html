<!-- Doing this to test the simplest math I can do for the Metric Clock -->
<!doctype html>
<html>
    <head>
        <title>Metric Clock</title>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
       
        <style type="text/css">
            body {
                background-color: #f0f0f2;
                margin: 0;
                padding: 0;
                font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
            }

            a:link, a:visited {
                color: #38488f;
                text-decoration: none;
            }

        </style>  
    </head>

    <body>

    <script >
        startTime();

        function startTime() {
            var time = new Date();
            const baseline = -3;  // timezone for midnight
            var timeUTC = time;
            timeUTC.setHours(time.getHours() + baseline + time.getTimezoneOffset()/60);
            var msecNow = time.getTime();
            console.log("msecNow: " + msecNow)
            var midnight = new Date(time.getFullYear(), time.getMonth(), time.getDate(), 0,0,0,0);
            var msecMN = midnight.getTime();
            var delta = msecNow - msecMN;

            var m_hours = Math.floor(delta/8640000);  // removed padtime for zero based
            delta -= (m_hours * 8640000);
            var m_mins = padTime(Math.floor(delta/86400));
            delta -= (m_mins * 86400);
            var m_secs = padTime(Math.floor(delta/864));

            // $("#test1").text("Metric Time");
            $("#sendTime").text(m_hours + ":" + m_mins + ":" + m_secs);
            var day = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][time.getDay()];
            var month = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][time.getMonth()];
            $("#sendDate").text(day + ", " + time.getDate() + " " + month + " " + time.getFullYear());
            var t = setTimeout(startTime, 864); // Note set for metric seconds
        }
        function padTime(i) {
            if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
            return i;
        }
    </script>
    <div>
        <h1>Current Metric Time</h1>
        <p id="sendTime"></p>
        <p id="sendDate"></p>
        <br>
    </div>

   
</body>
</html>
